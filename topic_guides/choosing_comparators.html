
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="comparison_templates.html">
      
      
        <link rel="next" href="comparators.html">
      
      <link rel="icon" href="../img/favicon.ico">
      <meta name="generator" content="mkdocs-1.4.2, mkdocs-material-9.1.15">
    
    
      
        <title>Choosing comparators and thresholds - Splink</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.26e3688c.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.ecc896b0.min.css">
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../assets/_mkdocstrings.css">
    
      <link rel="stylesheet" href="../css/custom.css">
    
      <link rel="stylesheet" href="../css/ansi-colours.css">
    
      <link rel="stylesheet" href="../css/jupyter-cells.css">
    
      <link rel="stylesheet" href="../css/pandas-dataframe.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#choosing-string-comparators" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../index.html" title="Splink" class="md-header__button md-logo" aria-label="Splink" data-md-component="logo">
      
  <img src="../img/favicon.ico" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Splink
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Choosing comparators and thresholds
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
          
            
            
            
            <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
            
              <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3Z"/></svg>
              </label>
            
          
            
            
            
            <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="purple" data-md-color-accent="red"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_2">
            
              <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6zm0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4zM7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/></svg>
              </label>
            
          
        </form>
      
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="Share" aria-label="Share" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7 0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91 1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08Z"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/moj-analytical-services/splink" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../index.html" title="Splink" class="md-nav__button md-logo" aria-label="Splink" data-md-component="logo">
      
  <img src="../img/favicon.ico" alt="logo">

    </a>
    Splink
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/moj-analytical-services/splink" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../index.html" class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../installations.html" class="md-nav__link">
        Installation
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
      
      
      
        <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
          Tutorials
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Tutorials
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../demos/00_Tutorial_Introduction.html" class="md-nav__link">
        0. Tutorial introduction
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../demos/01_Prerequisites.html" class="md-nav__link">
        1. Data prep prerequisites
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../demos/02_Exploratory_analysis.html" class="md-nav__link">
        2. Exploratory analysis
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../demos/03_Blocking.html" class="md-nav__link">
        3. Blocking
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../demos/04_Estimating_model_parameters.html" class="md-nav__link">
        4. Estimating model parameters
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../demos/05_Predicting_results.html" class="md-nav__link">
        5. Predicting results
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../demos/06_Visualising_predictions.html" class="md-nav__link">
        6. Visualising predictions
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../demos/07_Quality_assurance.html" class="md-nav__link">
        7. Quality assurance
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
      
      
      
        <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
          Examples
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Examples
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../examples_index.html" class="md-nav__link">
        Examples index
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_2" >
      
      
      
        <label class="md-nav__link" for="__nav_4_2" id="__nav_4_2_label" tabindex="0">
          DuckDB
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_2">
          <span class="md-nav__icon md-icon"></span>
          DuckDB
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../demos/example_deduplicate_50k_synthetic.html" class="md-nav__link">
        Deduplicate 50k rows historical persons
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../demos/example_transactions.html" class="md-nav__link">
        Linking financial transactions
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../demos/example_link_only.html" class="md-nav__link">
        Linking two tables of persons
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../demos/example_real_time_record_linkage.html" class="md-nav__link">
        Real time record linkage
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../demos/example_accuracy_analysis_from_labels_column.html" class="md-nav__link">
        QA from ground truth column
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../demos/example_pairwise_labels.html" class="md-nav__link">
        Estimating m probabilities from labels
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../demos/example_quick_and_dirty_persons.html" class="md-nav__link">
        Quick and dirty persons model
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../demos/example_febrl3.html" class="md-nav__link">
        Febrl3 Dedupe
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../demos/example_febrl4.html" class="md-nav__link">
        Febrl4 link-only
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_3" >
      
      
      
        <label class="md-nav__link" for="__nav_4_3" id="__nav_4_3_label" tabindex="0">
          PySpark
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_3_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_3">
          <span class="md-nav__icon md-icon"></span>
          PySpark
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../demos/example_simple_pyspark.html" class="md-nav__link">
        Deduplication using Pyspark
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" checked>
      
      
      
        <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
          Topic Guide
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="true">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          Topic Guide
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="backends.html" class="md-nav__link">
        Splink's SQL backends - Spark, DuckDB etc
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="link_type.html" class="md-nav__link">
        Link type - linking vs deduping
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="querying_splink_results.html" class="md-nav__link">
        Retrieving and querying Splink results
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="feature_engineering.html" class="md-nav__link">
        Feature Engineering
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_5" checked>
      
      
      
        <label class="md-nav__link" for="__nav_5_5" id="__nav_5_5_label" tabindex="0">
          Comparing Records
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_5_label" aria-expanded="true">
        <label class="md-nav__title" for="__nav_5_5">
          <span class="md-nav__icon md-icon"></span>
          Comparing Records
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="customising_comparisons.html" class="md-nav__link">
        Defining and customising comparisons
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="comparison_templates.html" class="md-nav__link">
        Out-of-the-box comparisons
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_5_3" checked>
      
      
      
        <label class="md-nav__link" for="__nav_5_5_3" id="__nav_5_5_3_label" tabindex="0">
          Comparing strings
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_5_3_label" aria-expanded="true">
        <label class="md-nav__title" for="__nav_5_5_3">
          <span class="md-nav__icon md-icon"></span>
          Comparing strings
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Choosing comparators and thresholds
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="choosing_comparators.html" class="md-nav__link md-nav__link--active">
        Choosing comparators and thresholds
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#what-options-are-available-when-comparing-strings" class="md-nav__link">
    What options are available when comparing strings?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#comparing-string-similarity-and-distance-scores" class="md-nav__link">
    Comparing String Similarity and Distance Scores
  </a>
  
    <nav class="md-nav" aria-label="Comparing String Similarity and Distance Scores">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#choosing-thresholds" class="md-nav__link">
    Choosing thresholds
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#phonetic-matching" class="md-nav__link">
    Phonetic Matching
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#combining-string-scores-and-phonetic-matching" class="md-nav__link">
    Combining String scores and Phonetic matching
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="comparators.html" class="md-nav__link">
        String comparators
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="phonetic.html" class="md-nav__link">
        Phonetic transformations
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="term-frequency.html" class="md-nav__link">
        Term-Frequency adjustments
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_6" >
      
      
      
        <label class="md-nav__link" for="__nav_5_6" id="__nav_5_6_label" tabindex="0">
          Performance
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_6_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_5_6">
          <span class="md-nav__icon md-icon"></span>
          Performance
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="drivers_of_performance.html" class="md-nav__link">
        Run times, performance and linking large data
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="blocking_rules.html" class="md-nav__link">
        Blocking rules for prediction vs estimation
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="optimising_spark.html" class="md-nav__link">
        Optimising Spark performance
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="salting.html" class="md-nav__link">
        Salting blocking rules
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
      
      
      
        <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
          API Reference
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_6">
          <span class="md-nav__icon md-icon"></span>
          API Reference
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_1" >
      
      
      
        <label class="md-nav__link" for="__nav_6_1" id="__nav_6_1_label" tabindex="0">
          Linker API
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_1_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_6_1">
          <span class="md-nav__icon md-icon"></span>
          Linker API
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../linker.html" class="md-nav__link">
        Full API
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../linkerexp.html" class="md-nav__link">
        Exploratory analysis
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../linkerest.html" class="md-nav__link">
        Estimating model parameters
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../linkerpred.html" class="md-nav__link">
        Predicting results
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../linkerqa.html" class="md-nav__link">
        Visualisation and quality assurance
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../em_training_session.html" class="md-nav__link">
        EM Training Session API
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../SplinkDataFrame.html" class="md-nav__link">
        SplinkDataFrame API
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_4" >
      
      
      
        <label class="md-nav__link" for="__nav_6_4" id="__nav_6_4_label" tabindex="0">
          Comparisons API
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_4_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_6_4">
          <span class="md-nav__icon md-icon"></span>
          Comparisons API
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../comparison.html" class="md-nav__link">
        Comparison
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../comparison_level.html" class="md-nav__link">
        Comparison Level
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_5" >
      
      
      
        <label class="md-nav__link" for="__nav_6_5" id="__nav_6_5_label" tabindex="0">
          Comparisons Library API
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_5_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_6_5">
          <span class="md-nav__icon md-icon"></span>
          Comparisons Library API
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../comparison_library.html" class="md-nav__link">
        Comparison Library
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../comparison_template_library.html" class="md-nav__link">
        Comparison Template Library
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../comparison_level_library.html" class="md-nav__link">
        Comparison Level Library
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../comparison_level_composition.html" class="md-nav__link">
        Comparison Composition
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../settingseditor/editor.html" class="md-nav__link">
        Settings Editor
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../settings_dict_guide.html" class="md-nav__link">
        Settings dictionary reference
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9" >
      
      
      
        <label class="md-nav__link" for="__nav_9" id="__nav_9_label" tabindex="0">
          Developers' guides
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_9_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_9">
          <span class="md-nav__icon md-icon"></span>
          Developers' guides
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9_1" >
      
      
      
        <label class="md-nav__link" for="__nav_9_1" id="__nav_9_1_label" tabindex="0">
          Making Changes to Splink
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_9_1_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_9_1">
          <span class="md-nav__icon md-icon"></span>
          Making Changes to Splink
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../dev_guides/changing_splink/building_env_locally.html" class="md-nav__link">
        Building a Virtual Environment
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../dev_guides/changing_splink/lint.html" class="md-nav__link">
        Linting
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../dev_guides/changing_splink/build_docs_locally.html" class="md-nav__link">
        Building Docs
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../dev_guides/changing_splink/testing.html" class="md-nav__link">
        Testing
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../dev_guides/changing_splink/releases.html" class="md-nav__link">
        Releasing a Package Version
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../dev_guides/caching.html" class="md-nav__link">
        Caching and pipelining
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../dev_guides/debug_modes.html" class="md-nav__link">
        Understanding and debugging Splink
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../dev_guides/spark_pipelining_and_caching.html" class="md-nav__link">
        Spark caching
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../dev_guides/transpilation.html" class="md-nav__link">
        Transpilation using sqlglot
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9_6" >
      
      
      
        <label class="md-nav__link" for="__nav_9_6" id="__nav_9_6_label" tabindex="0">
          Comparisons and comparison levels
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_9_6_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_9_6">
          <span class="md-nav__icon md-icon"></span>
          Comparisons and comparison levels
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../dev_guides/comparisons/new_library_comparisons_and_levels.html" class="md-nav__link">
        Creating new comparisons and comparison levels
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../dev_guides/comparisons/extending_library_comparisons_and_levels.html" class="md-nav__link">
        Extending existing comparisons and comparison levels
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../dev_guides/udfs.html" class="md-nav__link">
        User-Defined Functions
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#what-options-are-available-when-comparing-strings" class="md-nav__link">
    What options are available when comparing strings?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#comparing-string-similarity-and-distance-scores" class="md-nav__link">
    Comparing String Similarity and Distance Scores
  </a>
  
    <nav class="md-nav" aria-label="Comparing String Similarity and Distance Scores">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#choosing-thresholds" class="md-nav__link">
    Choosing thresholds
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#phonetic-matching" class="md-nav__link">
    Phonetic Matching
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#combining-string-scores-and-phonetic-matching" class="md-nav__link">
    Combining String scores and Phonetic matching
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  
  



  
  


<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>
<script>
(function() {
  function addWidgetsRenderer() {
    var requireJsScript = document.createElement('script');
    requireJsScript.src = 'https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js';

    var mimeElement = document.querySelector('script[type="application/vnd.jupyter.widget-view+json"]');
    var jupyterWidgetsScript = document.createElement('script');
    var widgetRendererSrc = 'https://unpkg.com/@jupyter-widgets/html-manager@*/dist/embed-amd.js';
    var widgetState;

    // Fallback for older version:
    try {
      widgetState = mimeElement && JSON.parse(mimeElement.innerHTML);

      if (widgetState && (widgetState.version_major < 2 || !widgetState.version_major)) {
        widgetRendererSrc = 'jupyter-js-widgets@*/dist/embed.js';
      }
    } catch(e) {}

    jupyterWidgetsScript.src = widgetRendererSrc;

    document.body.appendChild(requireJsScript);
    document.body.appendChild(jupyterWidgetsScript);
  }

  document.addEventListener('DOMContentLoaded', addWidgetsRenderer);
}());
</script>

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="choosing-string-comparators">Choosing String Comparators<a class="headerlink" href="#choosing-string-comparators" title="Permanent link">&para;</a></h1>
<p>When building a Splink model, one of the most important aspects is defining the <a href="../comparison.html"><code>Comparisons</code></a> and <a href="../comparison_level.html"><code>Comparison Levels</code></a> that the model will train on. Each <code>Comparison Level</code> within a <code>Comparison</code> should contain a different amount of evidence that two records are a match, which the model can assign a Match Weight to. When considering different amounts of evidence for the model, it is helpful to explore fuzzy matching as a way of distinguishing strings that are similar, but not the same, as one another.</p>
<p>This guide is intended to show how Splink's string comparators perform in different situations in order to help choosing the most appropriate comparator for a given column as well as the most appropriate threshold (or thresholds).
For descriptions and examples of each string comparators available in Splink, see the dedicated <a href="comparators.html">topic guide</a>.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="what-options-are-available-when-comparing-strings">What options are available when comparing strings?<a class="headerlink" href="#what-options-are-available-when-comparing-strings" title="Permanent link">&para;</a></h2>
<p>There are three main classes of string comparator that are considered within Splink:</p>
<ol>
<li><strong>String Similarity Scores</strong>  </li>
<li><strong>String Distance Scores</strong>  </li>
<li><strong>Phonetic Matching</strong>  </li>
</ol>
<p>where  </p>
<p><strong>String Similarity Scores</strong> are scores between 0 and 1 indicating how similar two strings are. 0 represents two completely dissimilar strings and 1 represents identical strings. E.g. <a href="comparators.html#jaro-winkler-similarity">Jaro-Winkler Similarity</a>.  </p>
<p><strong>String Distance Scores</strong> are integer distances, counting the number of operations to convert one string into another. A lower string distance indicates more similar strings. E.g. <a href="comparators.html#levenshtein-distance">Levenshtein Distance</a>.  </p>
<p><strong>Phonetic Matching</strong> is whether two strings are phonetically similar. The two strings are passed through a <a href="phonetic.html">phonetic transformation algorithm</a> and then the resulting phonetic codes are matched. E.g. <a href="phonetic.html#double-metaphone">Double Metaphone</a>.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="comparing-string-similarity-and-distance-scores">Comparing String Similarity and Distance Scores<a class="headerlink" href="#comparing-string-similarity-and-distance-scores" title="Permanent link">&para;</a></h2>
<p>Splink contains a <code>comparison_helpers</code> module which includes some helper functions for comparing the string similarity and distance scores that can help when choosing the most appropriate fuzzy matching function.</p>
<p>For comparing two strings the <code>comparator_score</code> function returns the scores for all of the available comparators. E.g. consider a simple inversion "Richard" vs "iRchard":</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">splink.comparison_helpers</span> <span class="k">as</span> <span class="nn">ch</span>

<span class="n">ch</span><span class="o">.</span><span class="n">comparator_score</span><span class="p">(</span><span class="s2">&quot;Richard&quot;</span><span class="p">,</span> <span class="s2">&quot;iRchard&quot;</span><span class="p">)</span>
</code></pre></div>

</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped="scoped">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
<thead>
    <tr style="text-align: right;">
      <th></th>
      <th>string1</th>
      <th>string2</th>
      <th>levenshtein_distance</th>
      <th>damerau_levenshtein_distance</th>
      <th>jaro_similarity</th>
      <th>jaro_winkler_similarity</th>
      <th>jaccard_similarity</th>
    </tr>
  </thead>
<tbody>
    <tr>
      <th>0</th>
      <td>Richard</td>
      <td>iRchard</td>
      <td>2</td>
      <td>1</td>
      <td>0.95</td>
      <td>0.95</td>
      <td>1.0</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Now consider a collection of common variations of the name "Richard" - which comparators will consider these variations as sufficiently similar to "Richard"?</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

<span class="n">data</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;string1&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="s2">&quot;Richard&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Richard&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Richard&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Richard&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Richard&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Richard&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Richard&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Richard&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Richard&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Richard&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Richard&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Richard&quot;</span><span class="p">,</span>
    <span class="p">],</span>
    <span class="s2">&quot;string2&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="s2">&quot;Richard&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ichard&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Richar&quot;</span><span class="p">,</span>
        <span class="s2">&quot;iRchard&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Richadr&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Rich&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Rick&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Ricky&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Dick&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Rico&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Rachael&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Stephen&quot;</span><span class="p">,</span>
    <span class="p">],</span>
    <span class="s2">&quot;error_type&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="s2">&quot;None&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Deletion&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Deletion&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Transposition&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Transposition&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Shortening&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Nickname/Alias&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Nickname/Alias&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Nickname/Alias&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Nickname/Alias&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Different Name&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Different Name&quot;</span><span class="p">,</span>
    <span class="p">],</span>
<span class="p">}</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
<span class="n">df</span>
</code></pre></div>

</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped="scoped">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
<thead>
    <tr style="text-align: right;">
      <th></th>
      <th>string1</th>
      <th>string2</th>
      <th>error_type</th>
    </tr>
  </thead>
<tbody>
    <tr>
      <th>0</th>
      <td>Richard</td>
      <td>Richard</td>
      <td>None</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Richard</td>
      <td>ichard</td>
      <td>Deletion</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Richard</td>
      <td>Richar</td>
      <td>Deletion</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Richard</td>
      <td>iRchard</td>
      <td>Transposition</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Richard</td>
      <td>Richadr</td>
      <td>Transposition</td>
    </tr>
    <tr>
      <th>5</th>
      <td>Richard</td>
      <td>Rich</td>
      <td>Shortening</td>
    </tr>
    <tr>
      <th>6</th>
      <td>Richard</td>
      <td>Rick</td>
      <td>Nickname/Alias</td>
    </tr>
    <tr>
      <th>7</th>
      <td>Richard</td>
      <td>Ricky</td>
      <td>Nickname/Alias</td>
    </tr>
    <tr>
      <th>8</th>
      <td>Richard</td>
      <td>Dick</td>
      <td>Nickname/Alias</td>
    </tr>
    <tr>
      <th>9</th>
      <td>Richard</td>
      <td>Rico</td>
      <td>Nickname/Alias</td>
    </tr>
    <tr>
      <th>10</th>
      <td>Richard</td>
      <td>Rachael</td>
      <td>Different Name</td>
    </tr>
    <tr>
      <th>11</th>
      <td>Richard</td>
      <td>Stephen</td>
      <td>Different Name</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The <code>comparator_score_chart</code> function allows you to compare two lists of strings and how similar the elements are according to the available string similarity and distance metrics.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="highlight"><pre><span></span><code><span class="n">ch</span><span class="o">.</span><span class="n">comparator_score_chart</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="s2">&quot;string1&quot;</span><span class="p">,</span> <span class="s2">&quot;string2&quot;</span><span class="p">)</span>
</code></pre></div>

</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="output_html rendered_html output_subarea output_execute_result">
<div id="altair-viz-684b00807aa547e2938f36b18de68480"></div>
<script type="text/javascript">
  var VEGA_DEBUG = (typeof VEGA_DEBUG == "undefined") ? {} : VEGA_DEBUG;
  (function(spec, embedOpt){
    let outputDiv = document.currentScript.previousElementSibling;
    if (outputDiv.id !== "altair-viz-684b00807aa547e2938f36b18de68480") {
      outputDiv = document.getElementById("altair-viz-684b00807aa547e2938f36b18de68480");
    }
    const paths = {
      "vega": "https://cdn.jsdelivr.net/npm//vega@5?noext",
      "vega-lib": "https://cdn.jsdelivr.net/npm//vega-lib?noext",
      "vega-lite": "https://cdn.jsdelivr.net/npm//vega-lite@4.17.0?noext",
      "vega-embed": "https://cdn.jsdelivr.net/npm//vega-embed@6?noext",
    };

    function maybeLoadScript(lib, version) {
      var key = `${lib.replace("-", "")}_version`;
      return (VEGA_DEBUG[key] == version) ?
        Promise.resolve(paths[lib]) :
        new Promise(function(resolve, reject) {
          var s = document.createElement('script');
          document.getElementsByTagName("head")[0].appendChild(s);
          s.async = true;
          s.onload = () => {
            VEGA_DEBUG[key] = version;
            return resolve(paths[lib]);
          };
          s.onerror = () => reject(`Error loading script: ${paths[lib]}`);
          s.src = paths[lib];
        });
    }

    function showError(err) {
      outputDiv.innerHTML = `<div class="error" style="color:red;">${err}</div>`;
      throw err;
    }

    function displayChart(vegaEmbed) {
      vegaEmbed(outputDiv, spec, embedOpt)
        .catch(err => showError(`Javascript Error: ${err.message}<br>This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));
    }

    if(typeof define === "function" && define.amd) {
      requirejs.config({paths});
      require(["vega-embed"], displayChart, err => showError(`Error loading script: ${err.message}`));
    } else {
      maybeLoadScript("vega", "5")
        .then(() => maybeLoadScript("vega-lite", "4.17.0"))
        .then(() => maybeLoadScript("vega-embed", "6"))
        .catch(showError)
        .then(() => displayChart(vegaEmbed));
    }
  })({"config": {"view": {"continuousWidth": 400, "continuousHeight": 300}}, "hconcat": [{"layer": [{"mark": "rect", "encoding": {"color": {"field": "score", "scale": {"domain": [0, 1], "range": ["red", "green"]}, "type": "quantitative"}, "x": {"field": "comparator", "type": "ordinal"}, "y": {"field": "strings_to_compare", "type": "ordinal"}}, "height": 300, "title": "Heatmap of Similarity Scores", "width": 300}, {"mark": {"type": "text", "baseline": "middle"}, "encoding": {"color": {"condition": {"value": "white", "test": "(datum.quantity > 3)"}, "value": "black"}, "text": {"field": "score", "format": ".2f", "type": "quantitative"}, "x": {"field": "comparator", "type": "ordinal"}, "y": {"field": "strings_to_compare", "type": "ordinal"}}, "height": 300, "title": "Heatmap of Similarity Scores", "width": 300}], "data": {"name": "data-similarity"}}, {"layer": [{"mark": "rect", "encoding": {"color": {"field": "score", "scale": {"domain": [0, 5], "range": ["green", "red"]}, "type": "quantitative"}, "x": {"field": "comparator", "type": "ordinal"}, "y": {"field": "strings_to_compare", "type": "ordinal"}}, "height": 300, "title": "Heatmap of Distance Scores", "width": 200}, {"mark": {"type": "text", "baseline": "middle"}, "encoding": {"color": {"condition": {"value": "white", "test": "(datum.quantity > 3)"}, "value": "black"}, "text": {"field": "score", "type": "quantitative"}, "x": {"field": "comparator", "type": "ordinal"}, "y": {"field": "strings_to_compare", "type": "ordinal"}}, "height": 300, "title": "Heatmap of Distance Scores", "width": 200}], "data": {"name": "data-distance"}}], "resolve": {"scale": {"color": "independent"}}, "$schema": "https://vega.github.io/schema/vega-lite/v4.17.0.json", "datasets": {"data-similarity": "[{\"strings_to_compare\":\"Richard, Richard\",\"comparator\":\"jaro_similarity\",\"score\":1.0},{\"strings_to_compare\":\"Richard, ichard\",\"comparator\":\"jaro_similarity\",\"score\":0.95},{\"strings_to_compare\":\"Richard, Richar\",\"comparator\":\"jaro_similarity\",\"score\":0.95},{\"strings_to_compare\":\"Richard, iRchard\",\"comparator\":\"jaro_similarity\",\"score\":0.95},{\"strings_to_compare\":\"Richard, Richadr\",\"comparator\":\"jaro_similarity\",\"score\":0.95},{\"strings_to_compare\":\"Richard, Rich\",\"comparator\":\"jaro_similarity\",\"score\":0.86},{\"strings_to_compare\":\"Richard, Rick\",\"comparator\":\"jaro_similarity\",\"score\":0.73},{\"strings_to_compare\":\"Richard, Ricky\",\"comparator\":\"jaro_similarity\",\"score\":0.68},{\"strings_to_compare\":\"Richard, Dick\",\"comparator\":\"jaro_similarity\",\"score\":0.6},{\"strings_to_compare\":\"Richard, Rico\",\"comparator\":\"jaro_similarity\",\"score\":0.73},{\"strings_to_compare\":\"Richard, Rachael\",\"comparator\":\"jaro_similarity\",\"score\":0.71},{\"strings_to_compare\":\"Richard, Stephen\",\"comparator\":\"jaro_similarity\",\"score\":0.43},{\"strings_to_compare\":\"Richard, Richard\",\"comparator\":\"jaro_winkler_similarity\",\"score\":1.0},{\"strings_to_compare\":\"Richard, ichard\",\"comparator\":\"jaro_winkler_similarity\",\"score\":0.95},{\"strings_to_compare\":\"Richard, Richar\",\"comparator\":\"jaro_winkler_similarity\",\"score\":0.97},{\"strings_to_compare\":\"Richard, iRchard\",\"comparator\":\"jaro_winkler_similarity\",\"score\":0.95},{\"strings_to_compare\":\"Richard, Richadr\",\"comparator\":\"jaro_winkler_similarity\",\"score\":0.97},{\"strings_to_compare\":\"Richard, Rich\",\"comparator\":\"jaro_winkler_similarity\",\"score\":0.91},{\"strings_to_compare\":\"Richard, Rick\",\"comparator\":\"jaro_winkler_similarity\",\"score\":0.81},{\"strings_to_compare\":\"Richard, Ricky\",\"comparator\":\"jaro_winkler_similarity\",\"score\":0.68},{\"strings_to_compare\":\"Richard, Dick\",\"comparator\":\"jaro_winkler_similarity\",\"score\":0.6},{\"strings_to_compare\":\"Richard, Rico\",\"comparator\":\"jaro_winkler_similarity\",\"score\":0.81},{\"strings_to_compare\":\"Richard, Rachael\",\"comparator\":\"jaro_winkler_similarity\",\"score\":0.74},{\"strings_to_compare\":\"Richard, Stephen\",\"comparator\":\"jaro_winkler_similarity\",\"score\":0.43},{\"strings_to_compare\":\"Richard, Richard\",\"comparator\":\"jaccard_similarity\",\"score\":1.0},{\"strings_to_compare\":\"Richard, ichard\",\"comparator\":\"jaccard_similarity\",\"score\":0.86},{\"strings_to_compare\":\"Richard, Richar\",\"comparator\":\"jaccard_similarity\",\"score\":0.86},{\"strings_to_compare\":\"Richard, iRchard\",\"comparator\":\"jaccard_similarity\",\"score\":1.0},{\"strings_to_compare\":\"Richard, Richadr\",\"comparator\":\"jaccard_similarity\",\"score\":1.0},{\"strings_to_compare\":\"Richard, Rich\",\"comparator\":\"jaccard_similarity\",\"score\":0.57},{\"strings_to_compare\":\"Richard, Rick\",\"comparator\":\"jaccard_similarity\",\"score\":0.38},{\"strings_to_compare\":\"Richard, Ricky\",\"comparator\":\"jaccard_similarity\",\"score\":0.33},{\"strings_to_compare\":\"Richard, Dick\",\"comparator\":\"jaccard_similarity\",\"score\":0.22},{\"strings_to_compare\":\"Richard, Rico\",\"comparator\":\"jaccard_similarity\",\"score\":0.38},{\"strings_to_compare\":\"Richard, Rachael\",\"comparator\":\"jaccard_similarity\",\"score\":0.44},{\"strings_to_compare\":\"Richard, Stephen\",\"comparator\":\"jaccard_similarity\",\"score\":0.08}]", "data-distance": "[{\"strings_to_compare\":\"Richard, Richard\",\"comparator\":\"levenshtein_distance\",\"score\":0.0},{\"strings_to_compare\":\"Richard, ichard\",\"comparator\":\"levenshtein_distance\",\"score\":1.0},{\"strings_to_compare\":\"Richard, Richar\",\"comparator\":\"levenshtein_distance\",\"score\":1.0},{\"strings_to_compare\":\"Richard, iRchard\",\"comparator\":\"levenshtein_distance\",\"score\":2.0},{\"strings_to_compare\":\"Richard, Richadr\",\"comparator\":\"levenshtein_distance\",\"score\":2.0},{\"strings_to_compare\":\"Richard, Rich\",\"comparator\":\"levenshtein_distance\",\"score\":3.0},{\"strings_to_compare\":\"Richard, Rick\",\"comparator\":\"levenshtein_distance\",\"score\":4.0},{\"strings_to_compare\":\"Richard, Ricky\",\"comparator\":\"levenshtein_distance\",\"score\":4.0},{\"strings_to_compare\":\"Richard, Dick\",\"comparator\":\"levenshtein_distance\",\"score\":5.0},{\"strings_to_compare\":\"Richard, Rico\",\"comparator\":\"levenshtein_distance\",\"score\":4.0},{\"strings_to_compare\":\"Richard, Rachael\",\"comparator\":\"levenshtein_distance\",\"score\":3.0},{\"strings_to_compare\":\"Richard, Stephen\",\"comparator\":\"levenshtein_distance\",\"score\":7.0},{\"strings_to_compare\":\"Richard, Richard\",\"comparator\":\"damerau_levenshtein_distance\",\"score\":0.0},{\"strings_to_compare\":\"Richard, ichard\",\"comparator\":\"damerau_levenshtein_distance\",\"score\":1.0},{\"strings_to_compare\":\"Richard, Richar\",\"comparator\":\"damerau_levenshtein_distance\",\"score\":1.0},{\"strings_to_compare\":\"Richard, iRchard\",\"comparator\":\"damerau_levenshtein_distance\",\"score\":1.0},{\"strings_to_compare\":\"Richard, Richadr\",\"comparator\":\"damerau_levenshtein_distance\",\"score\":1.0},{\"strings_to_compare\":\"Richard, Rich\",\"comparator\":\"damerau_levenshtein_distance\",\"score\":3.0},{\"strings_to_compare\":\"Richard, Rick\",\"comparator\":\"damerau_levenshtein_distance\",\"score\":4.0},{\"strings_to_compare\":\"Richard, Ricky\",\"comparator\":\"damerau_levenshtein_distance\",\"score\":4.0},{\"strings_to_compare\":\"Richard, Dick\",\"comparator\":\"damerau_levenshtein_distance\",\"score\":5.0},{\"strings_to_compare\":\"Richard, Rico\",\"comparator\":\"damerau_levenshtein_distance\",\"score\":4.0},{\"strings_to_compare\":\"Richard, Rachael\",\"comparator\":\"damerau_levenshtein_distance\",\"score\":3.0},{\"strings_to_compare\":\"Richard, Stephen\",\"comparator\":\"damerau_levenshtein_distance\",\"score\":7.0}]"}}, {"mode": "vega-lite"});
</script>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><img alt="" src="../img/choosing_comparators/comparator_score_chart.png" /></p>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Here we can see that all of the metrics are fairly sensitive to transcriptions errors ("Richadr", "Richar", "iRchard"). However, considering nicknames/aliases ("Rick", "Ricky", "Rico"), simple metrics such as Jaccard, Levenshtein and Damerau-Levenshtein tend to be less useful. The same can be said for name shortenings ("Rich"), but to a lesser extent than more complex nicknames. However, even more subtle metrics like Jaro and Jaro-Winkler still struggle to identify less obvious nicknames/aliases such as "Dick". </p>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>If you would prefer the underlying dataframe instead of the chart, there is the <code>comparator_score_df</code> function.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="highlight"><pre><span></span><code><span class="n">ch</span><span class="o">.</span><span class="n">comparator_score_df</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="s2">&quot;string1&quot;</span><span class="p">,</span> <span class="s2">&quot;string2&quot;</span><span class="p">)</span>
</code></pre></div>

</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped="scoped">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
<thead>
    <tr style="text-align: right;">
      <th></th>
      <th>string1</th>
      <th>string2</th>
      <th>levenshtein_distance</th>
      <th>damerau_levenshtein_distance</th>
      <th>jaro_similarity</th>
      <th>jaro_winkler_similarity</th>
      <th>jaccard_similarity</th>
    </tr>
  </thead>
<tbody>
    <tr>
      <th>0</th>
      <td>Richard</td>
      <td>Richard</td>
      <td>0</td>
      <td>0</td>
      <td>1.00</td>
      <td>1.00</td>
      <td>1.00</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Richard</td>
      <td>ichard</td>
      <td>1</td>
      <td>1</td>
      <td>0.95</td>
      <td>0.95</td>
      <td>0.86</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Richard</td>
      <td>Richar</td>
      <td>1</td>
      <td>1</td>
      <td>0.95</td>
      <td>0.97</td>
      <td>0.86</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Richard</td>
      <td>iRchard</td>
      <td>2</td>
      <td>1</td>
      <td>0.95</td>
      <td>0.95</td>
      <td>1.00</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Richard</td>
      <td>Richadr</td>
      <td>2</td>
      <td>1</td>
      <td>0.95</td>
      <td>0.97</td>
      <td>1.00</td>
    </tr>
    <tr>
      <th>5</th>
      <td>Richard</td>
      <td>Rich</td>
      <td>3</td>
      <td>3</td>
      <td>0.86</td>
      <td>0.91</td>
      <td>0.57</td>
    </tr>
    <tr>
      <th>6</th>
      <td>Richard</td>
      <td>Rick</td>
      <td>4</td>
      <td>4</td>
      <td>0.73</td>
      <td>0.81</td>
      <td>0.38</td>
    </tr>
    <tr>
      <th>7</th>
      <td>Richard</td>
      <td>Ricky</td>
      <td>4</td>
      <td>4</td>
      <td>0.68</td>
      <td>0.68</td>
      <td>0.33</td>
    </tr>
    <tr>
      <th>8</th>
      <td>Richard</td>
      <td>Dick</td>
      <td>5</td>
      <td>5</td>
      <td>0.60</td>
      <td>0.60</td>
      <td>0.22</td>
    </tr>
    <tr>
      <th>9</th>
      <td>Richard</td>
      <td>Rico</td>
      <td>4</td>
      <td>4</td>
      <td>0.73</td>
      <td>0.81</td>
      <td>0.38</td>
    </tr>
    <tr>
      <th>10</th>
      <td>Richard</td>
      <td>Rachael</td>
      <td>3</td>
      <td>3</td>
      <td>0.71</td>
      <td>0.74</td>
      <td>0.44</td>
    </tr>
    <tr>
      <th>11</th>
      <td>Richard</td>
      <td>Stephen</td>
      <td>7</td>
      <td>7</td>
      <td>0.43</td>
      <td>0.43</td>
      <td>0.08</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="choosing-thresholds">Choosing thresholds<a class="headerlink" href="#choosing-thresholds" title="Permanent link">&para;</a></h3>
<p>We can add distance and similarity thresholds to the comparators to see what strings would be included in a given comparison level:</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="highlight"><pre><span></span><code><span class="n">ch</span><span class="o">.</span><span class="n">comparator_score_threshold_chart</span><span class="p">(</span>
    <span class="n">data</span><span class="p">,</span> <span class="s2">&quot;string1&quot;</span><span class="p">,</span> <span class="s2">&quot;string2&quot;</span><span class="p">,</span> <span class="n">distance_threshold</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">similarity_threshold</span><span class="o">=</span><span class="mf">0.8</span>
<span class="p">)</span>
</code></pre></div>

</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="output_html rendered_html output_subarea output_execute_result">
<div id="altair-viz-802f644296294b368a770e07a26a42b9"></div>
<script type="text/javascript">
  var VEGA_DEBUG = (typeof VEGA_DEBUG == "undefined") ? {} : VEGA_DEBUG;
  (function(spec, embedOpt){
    let outputDiv = document.currentScript.previousElementSibling;
    if (outputDiv.id !== "altair-viz-802f644296294b368a770e07a26a42b9") {
      outputDiv = document.getElementById("altair-viz-802f644296294b368a770e07a26a42b9");
    }
    const paths = {
      "vega": "https://cdn.jsdelivr.net/npm//vega@5?noext",
      "vega-lib": "https://cdn.jsdelivr.net/npm//vega-lib?noext",
      "vega-lite": "https://cdn.jsdelivr.net/npm//vega-lite@4.17.0?noext",
      "vega-embed": "https://cdn.jsdelivr.net/npm//vega-embed@6?noext",
    };

    function maybeLoadScript(lib, version) {
      var key = `${lib.replace("-", "")}_version`;
      return (VEGA_DEBUG[key] == version) ?
        Promise.resolve(paths[lib]) :
        new Promise(function(resolve, reject) {
          var s = document.createElement('script');
          document.getElementsByTagName("head")[0].appendChild(s);
          s.async = true;
          s.onload = () => {
            VEGA_DEBUG[key] = version;
            return resolve(paths[lib]);
          };
          s.onerror = () => reject(`Error loading script: ${paths[lib]}`);
          s.src = paths[lib];
        });
    }

    function showError(err) {
      outputDiv.innerHTML = `<div class="error" style="color:red;">${err}</div>`;
      throw err;
    }

    function displayChart(vegaEmbed) {
      vegaEmbed(outputDiv, spec, embedOpt)
        .catch(err => showError(`Javascript Error: ${err.message}<br>This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));
    }

    if(typeof define === "function" && define.amd) {
      requirejs.config({paths});
      require(["vega-embed"], displayChart, err => showError(`Error loading script: ${err.message}`));
    } else {
      maybeLoadScript("vega", "5")
        .then(() => maybeLoadScript("vega-lite", "4.17.0"))
        .then(() => maybeLoadScript("vega-embed", "6"))
        .catch(showError)
        .then(() => displayChart(vegaEmbed));
    }
  })({"config": {"view": {"continuousWidth": 400, "continuousHeight": 300}}, "layer": [{"mark": "rect", "encoding": {"color": {"field": "threshold_match", "scale": {"range": ["red", "green"]}, "type": "ordinal"}, "x": {"field": "comparator", "type": "ordinal"}, "y": {"field": "strings_to_compare", "type": "ordinal"}}, "height": 300, "title": "Heatmap of Matches for distance_threshold = 2, similarity_threshold = 0.8", "width": 500}, {"mark": {"type": "text", "baseline": "middle"}, "encoding": {"color": {"condition": {"value": "white", "test": "(datum.quantity > 3)"}, "value": "black"}, "text": {"field": "score", "type": "ordinal"}, "x": {"field": "comparator", "type": "ordinal"}, "y": {"field": "strings_to_compare", "type": "ordinal"}}, "height": 300, "width": 500}], "data": {"name": "data-with-thresholds"}, "$schema": "https://vega.github.io/schema/vega-lite/v4.17.0.json", "datasets": {"data-with-thresholds": "[{\"strings_to_compare\":\"Richard, Richard\",\"comparator\":\"jaro_similarity\",\"score\":1.0,\"threshold_match\":true},{\"strings_to_compare\":\"Richard, ichard\",\"comparator\":\"jaro_similarity\",\"score\":0.95,\"threshold_match\":true},{\"strings_to_compare\":\"Richard, Richar\",\"comparator\":\"jaro_similarity\",\"score\":0.95,\"threshold_match\":true},{\"strings_to_compare\":\"Richard, iRchard\",\"comparator\":\"jaro_similarity\",\"score\":0.95,\"threshold_match\":true},{\"strings_to_compare\":\"Richard, Richadr\",\"comparator\":\"jaro_similarity\",\"score\":0.95,\"threshold_match\":true},{\"strings_to_compare\":\"Richard, Rich\",\"comparator\":\"jaro_similarity\",\"score\":0.86,\"threshold_match\":true},{\"strings_to_compare\":\"Richard, Rick\",\"comparator\":\"jaro_similarity\",\"score\":0.73,\"threshold_match\":false},{\"strings_to_compare\":\"Richard, Ricky\",\"comparator\":\"jaro_similarity\",\"score\":0.68,\"threshold_match\":false},{\"strings_to_compare\":\"Richard, Dick\",\"comparator\":\"jaro_similarity\",\"score\":0.6,\"threshold_match\":false},{\"strings_to_compare\":\"Richard, Rico\",\"comparator\":\"jaro_similarity\",\"score\":0.73,\"threshold_match\":false},{\"strings_to_compare\":\"Richard, Rachael\",\"comparator\":\"jaro_similarity\",\"score\":0.71,\"threshold_match\":false},{\"strings_to_compare\":\"Richard, Stephen\",\"comparator\":\"jaro_similarity\",\"score\":0.43,\"threshold_match\":false},{\"strings_to_compare\":\"Richard, Richard\",\"comparator\":\"jaro_winkler_similarity\",\"score\":1.0,\"threshold_match\":true},{\"strings_to_compare\":\"Richard, ichard\",\"comparator\":\"jaro_winkler_similarity\",\"score\":0.95,\"threshold_match\":true},{\"strings_to_compare\":\"Richard, Richar\",\"comparator\":\"jaro_winkler_similarity\",\"score\":0.97,\"threshold_match\":true},{\"strings_to_compare\":\"Richard, iRchard\",\"comparator\":\"jaro_winkler_similarity\",\"score\":0.95,\"threshold_match\":true},{\"strings_to_compare\":\"Richard, Richadr\",\"comparator\":\"jaro_winkler_similarity\",\"score\":0.97,\"threshold_match\":true},{\"strings_to_compare\":\"Richard, Rich\",\"comparator\":\"jaro_winkler_similarity\",\"score\":0.91,\"threshold_match\":true},{\"strings_to_compare\":\"Richard, Rick\",\"comparator\":\"jaro_winkler_similarity\",\"score\":0.81,\"threshold_match\":true},{\"strings_to_compare\":\"Richard, Ricky\",\"comparator\":\"jaro_winkler_similarity\",\"score\":0.68,\"threshold_match\":false},{\"strings_to_compare\":\"Richard, Dick\",\"comparator\":\"jaro_winkler_similarity\",\"score\":0.6,\"threshold_match\":false},{\"strings_to_compare\":\"Richard, Rico\",\"comparator\":\"jaro_winkler_similarity\",\"score\":0.81,\"threshold_match\":true},{\"strings_to_compare\":\"Richard, Rachael\",\"comparator\":\"jaro_winkler_similarity\",\"score\":0.74,\"threshold_match\":false},{\"strings_to_compare\":\"Richard, Stephen\",\"comparator\":\"jaro_winkler_similarity\",\"score\":0.43,\"threshold_match\":false},{\"strings_to_compare\":\"Richard, Richard\",\"comparator\":\"jaccard_similarity\",\"score\":1.0,\"threshold_match\":true},{\"strings_to_compare\":\"Richard, ichard\",\"comparator\":\"jaccard_similarity\",\"score\":0.86,\"threshold_match\":true},{\"strings_to_compare\":\"Richard, Richar\",\"comparator\":\"jaccard_similarity\",\"score\":0.86,\"threshold_match\":true},{\"strings_to_compare\":\"Richard, iRchard\",\"comparator\":\"jaccard_similarity\",\"score\":1.0,\"threshold_match\":true},{\"strings_to_compare\":\"Richard, Richadr\",\"comparator\":\"jaccard_similarity\",\"score\":1.0,\"threshold_match\":true},{\"strings_to_compare\":\"Richard, Rich\",\"comparator\":\"jaccard_similarity\",\"score\":0.57,\"threshold_match\":false},{\"strings_to_compare\":\"Richard, Rick\",\"comparator\":\"jaccard_similarity\",\"score\":0.38,\"threshold_match\":false},{\"strings_to_compare\":\"Richard, Ricky\",\"comparator\":\"jaccard_similarity\",\"score\":0.33,\"threshold_match\":false},{\"strings_to_compare\":\"Richard, Dick\",\"comparator\":\"jaccard_similarity\",\"score\":0.22,\"threshold_match\":false},{\"strings_to_compare\":\"Richard, Rico\",\"comparator\":\"jaccard_similarity\",\"score\":0.38,\"threshold_match\":false},{\"strings_to_compare\":\"Richard, Rachael\",\"comparator\":\"jaccard_similarity\",\"score\":0.44,\"threshold_match\":false},{\"strings_to_compare\":\"Richard, Stephen\",\"comparator\":\"jaccard_similarity\",\"score\":0.08,\"threshold_match\":false},{\"strings_to_compare\":\"Richard, Richard\",\"comparator\":\"levenshtein_distance\",\"score\":0.0,\"threshold_match\":true},{\"strings_to_compare\":\"Richard, ichard\",\"comparator\":\"levenshtein_distance\",\"score\":1.0,\"threshold_match\":true},{\"strings_to_compare\":\"Richard, Richar\",\"comparator\":\"levenshtein_distance\",\"score\":1.0,\"threshold_match\":true},{\"strings_to_compare\":\"Richard, iRchard\",\"comparator\":\"levenshtein_distance\",\"score\":2.0,\"threshold_match\":true},{\"strings_to_compare\":\"Richard, Richadr\",\"comparator\":\"levenshtein_distance\",\"score\":2.0,\"threshold_match\":true},{\"strings_to_compare\":\"Richard, Rich\",\"comparator\":\"levenshtein_distance\",\"score\":3.0,\"threshold_match\":false},{\"strings_to_compare\":\"Richard, Rick\",\"comparator\":\"levenshtein_distance\",\"score\":4.0,\"threshold_match\":false},{\"strings_to_compare\":\"Richard, Ricky\",\"comparator\":\"levenshtein_distance\",\"score\":4.0,\"threshold_match\":false},{\"strings_to_compare\":\"Richard, Dick\",\"comparator\":\"levenshtein_distance\",\"score\":5.0,\"threshold_match\":false},{\"strings_to_compare\":\"Richard, Rico\",\"comparator\":\"levenshtein_distance\",\"score\":4.0,\"threshold_match\":false},{\"strings_to_compare\":\"Richard, Rachael\",\"comparator\":\"levenshtein_distance\",\"score\":3.0,\"threshold_match\":false},{\"strings_to_compare\":\"Richard, Stephen\",\"comparator\":\"levenshtein_distance\",\"score\":7.0,\"threshold_match\":false},{\"strings_to_compare\":\"Richard, Richard\",\"comparator\":\"damerau_levenshtein_distance\",\"score\":0.0,\"threshold_match\":true},{\"strings_to_compare\":\"Richard, ichard\",\"comparator\":\"damerau_levenshtein_distance\",\"score\":1.0,\"threshold_match\":true},{\"strings_to_compare\":\"Richard, Richar\",\"comparator\":\"damerau_levenshtein_distance\",\"score\":1.0,\"threshold_match\":true},{\"strings_to_compare\":\"Richard, iRchard\",\"comparator\":\"damerau_levenshtein_distance\",\"score\":1.0,\"threshold_match\":true},{\"strings_to_compare\":\"Richard, Richadr\",\"comparator\":\"damerau_levenshtein_distance\",\"score\":1.0,\"threshold_match\":true},{\"strings_to_compare\":\"Richard, Rich\",\"comparator\":\"damerau_levenshtein_distance\",\"score\":3.0,\"threshold_match\":false},{\"strings_to_compare\":\"Richard, Rick\",\"comparator\":\"damerau_levenshtein_distance\",\"score\":4.0,\"threshold_match\":false},{\"strings_to_compare\":\"Richard, Ricky\",\"comparator\":\"damerau_levenshtein_distance\",\"score\":4.0,\"threshold_match\":false},{\"strings_to_compare\":\"Richard, Dick\",\"comparator\":\"damerau_levenshtein_distance\",\"score\":5.0,\"threshold_match\":false},{\"strings_to_compare\":\"Richard, Rico\",\"comparator\":\"damerau_levenshtein_distance\",\"score\":4.0,\"threshold_match\":false},{\"strings_to_compare\":\"Richard, Rachael\",\"comparator\":\"damerau_levenshtein_distance\",\"score\":3.0,\"threshold_match\":false},{\"strings_to_compare\":\"Richard, Stephen\",\"comparator\":\"damerau_levenshtein_distance\",\"score\":7.0,\"threshold_match\":false}]"}}, {"mode": "vega-lite"});
</script>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><img alt="" src="../img/choosing_comparators/comparator__score_threshold_chart.png" /></p>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>To class our variations on "Richard" in the same <code>Comparison Level</code>, a good choice of metric could be Jaro-Winkler with a threshold of 0.8. Lowering the threshold any more could increase the chances for false positives. </p>
<p>For example, consider a single Jaro-Winkler <code>Comparison Level</code> threshold of 0.7 would lead to "Rachael" being considered as providing the same amount evidence for a record matching as "iRchard".</p>
<p>An alternative way around this is to construct a <code>Comparison</code> with multiple levels, each corresponding to a different threshold of Jaro-Winkler similarity. For example, below we construct a <code>Comparison</code> using the <code>Comparison Library</code> function <a href="../comparison_level_library.html#JaroWinklerAtThresholdsComparisonBase">jaro_winkler_at_thresholds</a> with multiple levels for different match thresholds.:</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">splink.duckdb.duckdb_comparison_library</span> <span class="k">as</span> <span class="nn">cl</span>

<span class="n">first_name_comparison</span> <span class="o">=</span> <span class="n">cl</span><span class="o">.</span><span class="n">jaro_winkler_at_thresholds</span><span class="p">(</span><span class="s2">&quot;first_name&quot;</span><span class="p">,</span> <span class="p">[</span><span class="mf">0.9</span><span class="p">,</span> <span class="mf">0.8</span><span class="p">,</span> <span class="mf">0.7</span><span class="p">])</span>
</code></pre></div>

</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>If we print this comparison as a dictionary we can see the underlying SQL.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="highlight"><pre><span></span><code><span class="n">first_name_comparison</span><span class="o">.</span><span class="n">as_dict</span><span class="p">()</span>
</code></pre></div>

</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="output_text output_subarea output_execute_result">
<pre>
<code>{&#39;output_column_name&#39;: &#39;first_name&#39;,
 &#39;comparison_levels&#39;: [{&#39;sql_condition&#39;: &#39;&#34;first_name_l&#34; IS NULL OR &#34;first_name_r&#34; IS NULL&#39;,
   &#39;label_for_charts&#39;: &#39;Null&#39;,
   &#39;is_null_level&#39;: True},
  {&#39;sql_condition&#39;: &#39;&#34;first_name_l&#34; = &#34;first_name_r&#34;&#39;,
   &#39;label_for_charts&#39;: &#39;Exact match&#39;},
  {&#39;sql_condition&#39;: &#39;jaro_winkler_similarity(&#34;first_name_l&#34;, &#34;first_name_r&#34;) &gt;= 0.9&#39;,
   &#39;label_for_charts&#39;: &#39;Jaro_winkler_similarity &gt;= 0.9&#39;},
  {&#39;sql_condition&#39;: &#39;jaro_winkler_similarity(&#34;first_name_l&#34;, &#34;first_name_r&#34;) &gt;= 0.8&#39;,
   &#39;label_for_charts&#39;: &#39;Jaro_winkler_similarity &gt;= 0.8&#39;},
  {&#39;sql_condition&#39;: &#39;jaro_winkler_similarity(&#34;first_name_l&#34;, &#34;first_name_r&#34;) &gt;= 0.7&#39;,
   &#39;label_for_charts&#39;: &#39;Jaro_winkler_similarity &gt;= 0.7&#39;},
  {&#39;sql_condition&#39;: &#39;ELSE&#39;, &#39;label_for_charts&#39;: &#39;All other comparisons&#39;}],
 &#39;comparison_description&#39;: &#39;Exact match vs. First_Name within jaro_winkler_similarity thresholds 0.9, 0.8, 0.7 vs. anything else&#39;}</code>
</pre>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Where:  </p>
<ul>
<li>Exact Match level will catch perfect matches ("Richard").  </li>
<li>The 0.9 threshold will catch Shortenings and Typos ("ichard", "Richar", "iRchard", "Richadr",  "Rich").  </li>
<li>The 0.8 threshold will catch simple Nicknames/Aliases ("Rick", "Rico").  </li>
<li>The 0.7 threshold will catch more complex Nicknames/Aliases ("Ricky"), but will also include less relevant names (e.g. "Rachael"). However, this should not be a concern as the model should give less predictive power (i.e. Match Weight) to this level of evidence.  </li>
<li>All other comparisons will end up in the "Else" level  </li>
</ul>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="phonetic-matching">Phonetic Matching<a class="headerlink" href="#phonetic-matching" title="Permanent link">&para;</a></h2>
<p>There are similar functions available within splink to help users get familiar with phonetic transformations. You can create similar visualisations to string comparators.</p>
<p>To see the phonetic transformations for a single string, there is the <code>phonetic_transform</code> function:</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">splink.comparison_helpers</span>

<span class="n">ch</span><span class="o">.</span><span class="n">phonetic_transform</span><span class="p">(</span><span class="s2">&quot;Richard&quot;</span><span class="p">)</span>
</code></pre></div>

</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="output_text output_subarea output_execute_result">
<pre>
<code>{&#39;soundex&#39;: &#39;R02063&#39;, &#39;metaphone&#39;: &#39;RXRT&#39;, &#39;dmetaphone&#39;: (&#39;RXRT&#39;, &#39;RKRT&#39;)}</code>
</pre>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="highlight"><pre><span></span><code><span class="n">ch</span><span class="o">.</span><span class="n">phonetic_transform</span><span class="p">(</span><span class="s2">&quot;Steven&quot;</span><span class="p">)</span>
</code></pre></div>

</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="output_text output_subarea output_execute_result">
<pre>
<code>{&#39;soundex&#39;: &#39;S30105&#39;, &#39;metaphone&#39;: &#39;STFN&#39;, &#39;dmetaphone&#39;: (&#39;STFN&#39;, &#39;&#39;)}</code>
</pre>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Now consider a collection of common variations of the name "Stephen". Which phonetic transforms will consider these as sufficiently similar to "Stephen"?</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="highlight"><pre><span></span><code><span class="n">data</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;string1&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="s2">&quot;Stephen&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Stephen&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Stephen&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Stephen&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Stephen&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Stephen&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Stephen&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Stephen&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Stephen&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Stephen&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Stephen&quot;</span><span class="p">,</span>
    <span class="p">],</span>
    <span class="s2">&quot;string2&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="s2">&quot;Stephen&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Steven&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Stephan&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Steve&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Stehpen&quot;</span><span class="p">,</span>
        <span class="s2">&quot;tSephen&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Stephne&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Stphen&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Stepheb&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Stephanie&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Richard&quot;</span><span class="p">,</span>
    <span class="p">],</span>
    <span class="s2">&quot;error_type&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="s2">&quot;None&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Spelling Variation&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Spelling Variation/Similar Name&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Nickname/Alias&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Transposition&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Transposition&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Transposition&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Deletion&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Replacement&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Different Name&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Different Name&quot;</span><span class="p">,</span>
    <span class="p">],</span>
<span class="p">}</span>

<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
<span class="n">df</span>
</code></pre></div>

</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped="scoped">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
<thead>
    <tr style="text-align: right;">
      <th></th>
      <th>string1</th>
      <th>string2</th>
      <th>error_type</th>
    </tr>
  </thead>
<tbody>
    <tr>
      <th>0</th>
      <td>Stephen</td>
      <td>Stephen</td>
      <td>None</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Stephen</td>
      <td>Steven</td>
      <td>Spelling Variation</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Stephen</td>
      <td>Stephan</td>
      <td>Spelling Variation/Similar Name</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Stephen</td>
      <td>Steve</td>
      <td>Nickname/Alias</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Stephen</td>
      <td>Stehpen</td>
      <td>Transposition</td>
    </tr>
    <tr>
      <th>5</th>
      <td>Stephen</td>
      <td>tSephen</td>
      <td>Transposition</td>
    </tr>
    <tr>
      <th>6</th>
      <td>Stephen</td>
      <td>Stephne</td>
      <td>Transposition</td>
    </tr>
    <tr>
      <th>7</th>
      <td>Stephen</td>
      <td>Stphen</td>
      <td>Deletion</td>
    </tr>
    <tr>
      <th>8</th>
      <td>Stephen</td>
      <td>Stepheb</td>
      <td>Replacement</td>
    </tr>
    <tr>
      <th>9</th>
      <td>Stephen</td>
      <td>Stephanie</td>
      <td>Different Name</td>
    </tr>
    <tr>
      <th>10</th>
      <td>Stephen</td>
      <td>Richard</td>
      <td>Different Name</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The <code>phonetic_match_chart</code> function allows you to compare two lists of strings and how similar the elements are according to the available string similarity and distance metrics.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="highlight"><pre><span></span><code><span class="n">ch</span><span class="o">.</span><span class="n">phonetic_match_chart</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="s2">&quot;string1&quot;</span><span class="p">,</span> <span class="s2">&quot;string2&quot;</span><span class="p">)</span>
</code></pre></div>

</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="output_html rendered_html output_subarea output_execute_result">
<div id="altair-viz-c3473003f49b4b16b5dc2f59fd9e7cea"></div>
<script type="text/javascript">
  var VEGA_DEBUG = (typeof VEGA_DEBUG == "undefined") ? {} : VEGA_DEBUG;
  (function(spec, embedOpt){
    let outputDiv = document.currentScript.previousElementSibling;
    if (outputDiv.id !== "altair-viz-c3473003f49b4b16b5dc2f59fd9e7cea") {
      outputDiv = document.getElementById("altair-viz-c3473003f49b4b16b5dc2f59fd9e7cea");
    }
    const paths = {
      "vega": "https://cdn.jsdelivr.net/npm//vega@5?noext",
      "vega-lib": "https://cdn.jsdelivr.net/npm//vega-lib?noext",
      "vega-lite": "https://cdn.jsdelivr.net/npm//vega-lite@4.17.0?noext",
      "vega-embed": "https://cdn.jsdelivr.net/npm//vega-embed@6?noext",
    };

    function maybeLoadScript(lib, version) {
      var key = `${lib.replace("-", "")}_version`;
      return (VEGA_DEBUG[key] == version) ?
        Promise.resolve(paths[lib]) :
        new Promise(function(resolve, reject) {
          var s = document.createElement('script');
          document.getElementsByTagName("head")[0].appendChild(s);
          s.async = true;
          s.onload = () => {
            VEGA_DEBUG[key] = version;
            return resolve(paths[lib]);
          };
          s.onerror = () => reject(`Error loading script: ${paths[lib]}`);
          s.src = paths[lib];
        });
    }

    function showError(err) {
      outputDiv.innerHTML = `<div class="error" style="color:red;">${err}</div>`;
      throw err;
    }

    function displayChart(vegaEmbed) {
      vegaEmbed(outputDiv, spec, embedOpt)
        .catch(err => showError(`Javascript Error: ${err.message}<br>This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));
    }

    if(typeof define === "function" && define.amd) {
      requirejs.config({paths});
      require(["vega-embed"], displayChart, err => showError(`Error loading script: ${err.message}`));
    } else {
      maybeLoadScript("vega", "5")
        .then(() => maybeLoadScript("vega-lite", "4.17.0"))
        .then(() => maybeLoadScript("vega-embed", "6"))
        .catch(showError)
        .then(() => displayChart(vegaEmbed));
    }
  })({"config": {"view": {"continuousWidth": 400, "continuousHeight": 300}}, "layer": [{"mark": "rect", "encoding": {"color": {"field": "match", "scale": {"range": ["red", "green"]}, "type": "ordinal"}, "x": {"field": "phonetic", "type": "ordinal"}, "y": {"field": "strings_to_compare", "type": "ordinal"}}, "height": 600, "title": "Heatmap of Phonetic Matches", "width": 300}, {"mark": {"type": "text", "baseline": "middle"}, "encoding": {"color": {"condition": {"value": "white", "test": "(datum.quantity > 3)"}, "value": "black"}, "text": {"field": "transform", "type": "ordinal"}, "x": {"field": "phonetic", "type": "ordinal"}, "y": {"field": "strings_to_compare", "type": "ordinal"}}, "height": 600, "title": "Heatmap of Phonetic Matches", "width": 300}], "data": {"name": "data-phonetic"}, "$schema": "https://vega.github.io/schema/vega-lite/v4.17.0.json", "datasets": {"data-phonetic": "[{\"strings_to_compare\":\"Stephen, Stephen\",\"phonetic\":\"metaphone\",\"transform\":[\"STFN\",\"STFN\"],\"match\":true},{\"strings_to_compare\":\"Stephen, Steven\",\"phonetic\":\"metaphone\",\"transform\":[\"STFN\",\"STFN\"],\"match\":true},{\"strings_to_compare\":\"Stephen, Stephan\",\"phonetic\":\"metaphone\",\"transform\":[\"STFN\",\"STFN\"],\"match\":true},{\"strings_to_compare\":\"Stephen, Steve\",\"phonetic\":\"metaphone\",\"transform\":[\"STFN\",\"STF\"],\"match\":false},{\"strings_to_compare\":\"Stephen, Stehpen\",\"phonetic\":\"metaphone\",\"transform\":[\"STFN\",\"STPN\"],\"match\":false},{\"strings_to_compare\":\"Stephen, tSephen\",\"phonetic\":\"metaphone\",\"transform\":[\"STFN\",\"TSFN\"],\"match\":false},{\"strings_to_compare\":\"Stephen, Stephne\",\"phonetic\":\"metaphone\",\"transform\":[\"STFN\",\"STFN\"],\"match\":true},{\"strings_to_compare\":\"Stephen, Stphen\",\"phonetic\":\"metaphone\",\"transform\":[\"STFN\",\"STFN\"],\"match\":true},{\"strings_to_compare\":\"Stephen, Stepheb\",\"phonetic\":\"metaphone\",\"transform\":[\"STFN\",\"STFP\"],\"match\":false},{\"strings_to_compare\":\"Stephen, Stephanie\",\"phonetic\":\"metaphone\",\"transform\":[\"STFN\",\"STFN\"],\"match\":true},{\"strings_to_compare\":\"Stephen, Richard\",\"phonetic\":\"metaphone\",\"transform\":[\"STFN\",\"RXRT\"],\"match\":false},{\"strings_to_compare\":\"Stephen, Stephen\",\"phonetic\":\"dmetaphone\",\"transform\":[[\"STFN\",\"\"],[\"STFN\",\"\"]],\"match\":true},{\"strings_to_compare\":\"Stephen, Steven\",\"phonetic\":\"dmetaphone\",\"transform\":[[\"STFN\",\"\"],[\"STFN\",\"\"]],\"match\":true},{\"strings_to_compare\":\"Stephen, Stephan\",\"phonetic\":\"dmetaphone\",\"transform\":[[\"STFN\",\"\"],[\"STFN\",\"\"]],\"match\":true},{\"strings_to_compare\":\"Stephen, Steve\",\"phonetic\":\"dmetaphone\",\"transform\":[[\"STFN\",\"\"],[\"STF\",\"\"]],\"match\":false},{\"strings_to_compare\":\"Stephen, Stehpen\",\"phonetic\":\"dmetaphone\",\"transform\":[[\"STFN\",\"\"],[\"STPN\",\"\"]],\"match\":false},{\"strings_to_compare\":\"Stephen, tSephen\",\"phonetic\":\"dmetaphone\",\"transform\":[[\"STFN\",\"\"],[\"TSFN\",\"\"]],\"match\":false},{\"strings_to_compare\":\"Stephen, Stephne\",\"phonetic\":\"dmetaphone\",\"transform\":[[\"STFN\",\"\"],[\"STFN\",\"\"]],\"match\":true},{\"strings_to_compare\":\"Stephen, Stphen\",\"phonetic\":\"dmetaphone\",\"transform\":[[\"STFN\",\"\"],[\"STFN\",\"\"]],\"match\":true},{\"strings_to_compare\":\"Stephen, Stepheb\",\"phonetic\":\"dmetaphone\",\"transform\":[[\"STFN\",\"\"],[\"STFP\",\"\"]],\"match\":false},{\"strings_to_compare\":\"Stephen, Stephanie\",\"phonetic\":\"dmetaphone\",\"transform\":[[\"STFN\",\"\"],[\"STFN\",\"\"]],\"match\":true},{\"strings_to_compare\":\"Stephen, Richard\",\"phonetic\":\"dmetaphone\",\"transform\":[[\"STFN\",\"\"],[\"RXRT\",\"RKRT\"]],\"match\":false},{\"strings_to_compare\":\"Stephen, Stephen\",\"phonetic\":\"soundex\",\"transform\":[\"S30105\",\"S30105\"],\"match\":true},{\"strings_to_compare\":\"Stephen, Steven\",\"phonetic\":\"soundex\",\"transform\":[\"S30105\",\"S30105\"],\"match\":true},{\"strings_to_compare\":\"Stephen, Stephan\",\"phonetic\":\"soundex\",\"transform\":[\"S30105\",\"S30105\"],\"match\":true},{\"strings_to_compare\":\"Stephen, Steve\",\"phonetic\":\"soundex\",\"transform\":[\"S30105\",\"S3010\"],\"match\":false},{\"strings_to_compare\":\"Stephen, Stehpen\",\"phonetic\":\"soundex\",\"transform\":[\"S30105\",\"S30105\"],\"match\":true},{\"strings_to_compare\":\"Stephen, tSephen\",\"phonetic\":\"soundex\",\"transform\":[\"S30105\",\"t50105\"],\"match\":false},{\"strings_to_compare\":\"Stephen, Stephne\",\"phonetic\":\"soundex\",\"transform\":[\"S30105\",\"S301050\"],\"match\":false},{\"strings_to_compare\":\"Stephen, Stphen\",\"phonetic\":\"soundex\",\"transform\":[\"S30105\",\"S3105\"],\"match\":false},{\"strings_to_compare\":\"Stephen, Stepheb\",\"phonetic\":\"soundex\",\"transform\":[\"S30105\",\"S30101\"],\"match\":false},{\"strings_to_compare\":\"Stephen, Stephanie\",\"phonetic\":\"soundex\",\"transform\":[\"S30105\",\"S301050\"],\"match\":false},{\"strings_to_compare\":\"Stephen, Richard\",\"phonetic\":\"soundex\",\"transform\":[\"S30105\",\"R02063\"],\"match\":false}]"}}, {"mode": "vega-lite"});
</script>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><img alt="" src="../img/choosing_comparators/phonetic_match_chart.png" /></p>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Here we can see that all of the algorithms recognise simple phonetically similar names ("Stephen", "Steven"). However, there is some variation when it comes to transposition errors ("Stehpen", "Stephne") with soundex and metaphone-esque giving different results. There is also different behaviour considering different names ("Stephanie").</p>
<p>Given there is no clear winner that captures all of the similar names, it is recommended that phonetic matches are used as a single <code>Comparison Level</code> within in a <code>Comparison</code> which also includes <a href="#comparators">string comparators</a> in the other levels. To see an example of this, see the <a href="#combining-string-scores-and-phonetic-matching">Combining String scores and Phonetic matching</a> section of this topic guide.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>If you would prefer the underlying dataframe instead of the chart, there is the <code>phonetic_transform_df</code> function.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="highlight"><pre><span></span><code><span class="n">ch</span><span class="o">.</span><span class="n">phonetic_transform_df</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="s2">&quot;string1&quot;</span><span class="p">,</span> <span class="s2">&quot;string2&quot;</span><span class="p">)</span>
</code></pre></div>

</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped="scoped">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
<thead>
    <tr style="text-align: right;">
      <th></th>
      <th>string1</th>
      <th>string2</th>
      <th>soundex</th>
      <th>metaphone</th>
      <th>dmetaphone</th>
    </tr>
  </thead>
<tbody>
    <tr>
      <th>0</th>
      <td>Stephen</td>
      <td>Stephen</td>
      <td>[S30105, S30105]</td>
      <td>[STFN, STFN]</td>
      <td>[(STFN, ), (STFN, )]</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Stephen</td>
      <td>Steven</td>
      <td>[S30105, S30105]</td>
      <td>[STFN, STFN]</td>
      <td>[(STFN, ), (STFN, )]</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Stephen</td>
      <td>Stephan</td>
      <td>[S30105, S30105]</td>
      <td>[STFN, STFN]</td>
      <td>[(STFN, ), (STFN, )]</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Stephen</td>
      <td>Steve</td>
      <td>[S30105, S3010]</td>
      <td>[STFN, STF]</td>
      <td>[(STFN, ), (STF, )]</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Stephen</td>
      <td>Stehpen</td>
      <td>[S30105, S30105]</td>
      <td>[STFN, STPN]</td>
      <td>[(STFN, ), (STPN, )]</td>
    </tr>
    <tr>
      <th>5</th>
      <td>Stephen</td>
      <td>tSephen</td>
      <td>[S30105, t50105]</td>
      <td>[STFN, TSFN]</td>
      <td>[(STFN, ), (TSFN, )]</td>
    </tr>
    <tr>
      <th>6</th>
      <td>Stephen</td>
      <td>Stephne</td>
      <td>[S30105, S301050]</td>
      <td>[STFN, STFN]</td>
      <td>[(STFN, ), (STFN, )]</td>
    </tr>
    <tr>
      <th>7</th>
      <td>Stephen</td>
      <td>Stphen</td>
      <td>[S30105, S3105]</td>
      <td>[STFN, STFN]</td>
      <td>[(STFN, ), (STFN, )]</td>
    </tr>
    <tr>
      <th>8</th>
      <td>Stephen</td>
      <td>Stepheb</td>
      <td>[S30105, S30101]</td>
      <td>[STFN, STFP]</td>
      <td>[(STFN, ), (STFP, )]</td>
    </tr>
    <tr>
      <th>9</th>
      <td>Stephen</td>
      <td>Stephanie</td>
      <td>[S30105, S301050]</td>
      <td>[STFN, STFN]</td>
      <td>[(STFN, ), (STFN, )]</td>
    </tr>
    <tr>
      <th>10</th>
      <td>Stephen</td>
      <td>Richard</td>
      <td>[S30105, R02063]</td>
      <td>[STFN, RXRT]</td>
      <td>[(STFN, ), (RXRT, RKRT)]</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="combining-string-scores-and-phonetic-matching">Combining String scores and Phonetic matching<a class="headerlink" href="#combining-string-scores-and-phonetic-matching" title="Permanent link">&para;</a></h2>
<p>Once you have considered all of the string comparators and phonetic transforms for a given column, you may decide that you would like to have multiple comparison levels including a combination of options.</p>
<p>For this you can construct a custom comparison to catch all of the edge cases you want. For example, if you decide that the comparison for <code>first_name</code> in the model should consider:</p>
<ol>
<li>A <code>Dmetaphone</code> level for phonetic similarity</li>
<li>A <code>Levenshtein</code> level with distance of 2 for typos</li>
<li>A <code>Jaro-Winkler</code> level with similarity 0.8 for fuzzy matching</li>
</ol>
<p>The <a href="../comparison_template_library.html#NameComparisonBase">name_comparison</a> function from the <code>Comparison Template Library</code> can be configured as follows:</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">splink.duckdb.duckdb_comparison_template_library</span> <span class="k">as</span> <span class="nn">ctl</span>

<span class="n">first_name_comparison</span> <span class="o">=</span> <span class="n">ctl</span><span class="o">.</span><span class="n">name_comparison</span><span class="p">(</span>
    <span class="s2">&quot;first_name&quot;</span><span class="p">,</span>
    <span class="n">phonetic_col_name</span><span class="o">=</span><span class="s2">&quot;first_name_dm&quot;</span><span class="p">,</span>
    <span class="n">damerau_levenshtein_thresholds</span><span class="o">=</span><span class="p">[],</span>
    <span class="n">levenshtein_thresholds</span><span class="o">=</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span>
    <span class="n">jaro_winkler_thresholds</span><span class="o">=</span><span class="p">[</span><span class="mf">0.8</span><span class="p">],</span>
<span class="p">)</span>

<span class="n">first_name_comparison</span><span class="o">.</span><span class="n">as_dict</span><span class="p">()</span>
</code></pre></div>

</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="output_text output_subarea output_execute_result">
<pre>
<code>{&#39;output_column_name&#39;: &#39;custom_first_name_first_name_dm&#39;,
 &#39;comparison_levels&#39;: [{&#39;sql_condition&#39;: &#39;&#34;first_name_l&#34; IS NULL OR &#34;first_name_r&#34; IS NULL&#39;,
   &#39;label_for_charts&#39;: &#39;Null&#39;,
   &#39;is_null_level&#39;: True},
  {&#39;sql_condition&#39;: &#39;&#34;first_name_l&#34; = &#34;first_name_r&#34;&#39;,
   &#39;label_for_charts&#39;: &#39;Exact match first_name&#39;},
  {&#39;sql_condition&#39;: &#39;&#34;first_name_dm_l&#34; = &#34;first_name_dm_r&#34;&#39;,
   &#39;label_for_charts&#39;: &#39;Exact match first_name_dm&#39;},
  {&#39;sql_condition&#39;: &#39;levenshtein(&#34;first_name_l&#34;, &#34;first_name_r&#34;) &lt;= 2&#39;,
   &#39;label_for_charts&#39;: &#39;Levenshtein &lt;= 2&#39;},
  {&#39;sql_condition&#39;: &#39;jaro_winkler_similarity(&#34;first_name_l&#34;, &#34;first_name_r&#34;) &gt;= 0.8&#39;,
   &#39;label_for_charts&#39;: &#39;Jaro_winkler_similarity &gt;= 0.8&#39;},
  {&#39;sql_condition&#39;: &#39;ELSE&#39;, &#39;label_for_charts&#39;: &#39;All other comparisons&#39;}],
 &#39;comparison_description&#39;: &#39;Exact match vs. Names with phonetic exact match vs. First_Name within levenshtein threshold 2 vs. First_Name within jaro_winkler threshold 0.8 vs. anything else&#39;}</code>
</pre>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>where <code>first_name_dm</code> refers to a column in the dataset which has been created during the <a href="feature_engineering.html#phonetic-transformations">feature engineering</a> step to give the <code>Dmetaphone</code> transform of <code>first_name</code>.</p>
</div>
</div>
</div>





                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var tab,labels=set.querySelector(".tabbed-labels");for(tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

        </div>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="comparison_templates.html" class="md-footer__link md-footer__link--prev" aria-label="Previous: Out-of-the-box comparisons" rel="prev">
            <div class="md-footer__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                Out-of-the-box comparisons
              </div>
            </div>
          </a>
        
        
          
          <a href="comparators.html" class="md-footer__link md-footer__link--next" aria-label="Next: String comparators" rel="next">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                String comparators
              </div>
            </div>
            <div class="md-footer__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "..", "features": ["content.code.annotate", "content.code.copy", "content.tabs.link", "content.tooltips", "header.autohide", "search.highlight", "search.share", "search.suggest", "navigation.footer"], "search": "../assets/javascripts/workers/search.208ed371.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.b4d07000.min.js"></script>
      
        <script src="../javascripts/mathjax.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
  </body>
</html>